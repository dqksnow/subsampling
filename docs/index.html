<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Optimal Subsampling Methods for Statistical Models • subsampling</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Optimal Subsampling Methods for Statistical Models">
<meta property="og:description" content="
    Balancing computational and statistical efficiency, subsampling techniques offer
    a practical solution for handling large-scale data analysis. Subsampling methods
    enhance statistical modeling for massive datasets by efficiently drawing
    representative subsamples based on tailored sampling probabilities. These
    probabilities are optimized for specific goals, such as minimizing the variance
    of coefficient estimates or reducing prediction error.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">subsampling</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/ssp-logit.html">Introduction to `ssp.glm`: Subsampling for Generalized Linear Models</a>
    </li>
    <li>
      <a href="articles/ssp-quantreg.html">Introduction to `ssp.quantreg`: Subsampling for Quantile Regression</a>
    </li>
    <li>
      <a href="articles/ssp-relogit.html">Introduction to `ssp.relogit`: Subsampling for Logistic Regression Model with Rare Events</a>
    </li>
    <li>
      <a href="articles/ssp-softmax.html">Introduction to `ssp.softmax`: Subsampling for Softmax (Multinomial) Regression Model</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dqksnow/Subsampling/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="subsampling">subsampling<a class="anchor" aria-label="anchor" href="#subsampling"></a>
</h1></div>
<!-- badges: start -->

<p>A major challenge in big data statistical analysis is the demand for computing resources. For example, when fitting a logistic regression model to binary response variable with <span class="math inline"><em>N</em> × <em>d</em></span> dimensional covariates, the computational complexity of estimating the coefficients using the IRLS algorithm is <span class="math inline"><em>O</em>(<em>ζ</em><em>N</em><em>d</em><sup>2</sup>)</span>, where <span class="math inline"><em>ζ</em></span> is the number of iteriation. When <span class="math inline"><em>N</em></span> is large, the cost can be prohibitive, especially if high performance computing resources are unavailable. Subsampling has become a widely used technique to balance the trade-off between computational efficiency and statistical efficiency.</p>
<p>The R package <code>subsampling</code> provides optimal subsampling methods for various statistical models such as generalized linear models (GLM), softmax (multinomial) regression, rare event logistic regression and quantile regression model. Specialized subsampling techniques are provided to address specific challenges across different models and datasets.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of subsampling from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"dqksnow/subsampling"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>The <a href="https://dqksnow.github.io/subsampling/" class="external-link">Online document</a> provides a guidance for quick start.</p>
<ul>
<li>
<a href="https://dqksnow.github.io/subsampling/articles/ssp-logit.html" class="external-link">Generalized linear model</a>.</li>
<li>
<a href="https://dqksnow.github.io/subsampling/articles/ssp-relogit.html" class="external-link">Rare event logistic regression</a>.</li>
<li>
<a href="https://dqksnow.github.io/subsampling/articles/ssp-softmax.html" class="external-link">Softmax (multinomial) regression</a>.</li>
<li>
<a href="https://dqksnow.github.io/subsampling/articles/ssp-quantreg.html" class="external-link">Quantile regression</a>.</li>
</ul>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is an example of subsampling method on logistic regression:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dqksnow/Subsampling" class="external-link">subsampling</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">1e4</span></span>
<span><span class="va">beta0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">7</span><span class="op">)</span></span>
<span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">beta0</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span></span>
<span><span class="va">corr</span> <span class="op">&lt;-</span> <span class="fl">0.5</span></span>
<span><span class="va">sigmax</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="va">corr</span>, <span class="va">d</span>, <span class="va">d</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">corr</span>, <span class="va">d</span><span class="op">)</span></span>
<span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html" class="external-link">mvrnorm</a></span><span class="op">(</span><span class="va">N</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">d</span><span class="op">)</span>, <span class="va">sigmax</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"V"</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span><span class="va">P</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">-</span> <span class="fl">1</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">beta0</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="va">X</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">beta0</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="va">N</span>, <span class="fl">1</span>, <span class="va">P</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">Y</span>, <span class="va">X</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">formula</span> <span class="op">&lt;-</span> <span class="va">Y</span> <span class="op">~</span> <span class="va">.</span></span>
<span><span class="va">n.plt</span> <span class="op">&lt;-</span> <span class="fl">200</span></span>
<span><span class="va">n.ssp</span> <span class="op">&lt;-</span> <span class="fl">600</span></span>
<span><span class="va">ssp.results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ssp.glm.html">ssp.glm</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">formula</span>,</span>
<span>                       data <span class="op">=</span> <span class="va">data</span>,</span>
<span>                       n.plt <span class="op">=</span> <span class="va">n.plt</span>,</span>
<span>                       n.ssp <span class="op">=</span> <span class="va">n.ssp</span>,</span>
<span>                       family <span class="op">=</span> <span class="st">"quasibinomial"</span>,</span>
<span>                       criterion <span class="op">=</span> <span class="st">"optL"</span>,</span>
<span>                       sampling.method <span class="op">=</span> <span class="st">"poisson"</span>,</span>
<span>                       likelihood <span class="op">=</span> <span class="st">"weighted"</span></span>
<span>                       <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ssp.results</span><span class="op">)</span></span>
<span><span class="co">#&gt; Model Summary</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ssp.glm(formula = formula, data = data, n.plt = n.plt, n.ssp = n.ssp, </span></span>
<span><span class="co">#&gt;     family = "quasibinomial", criterion = "optL", sampling.method = "poisson", </span></span>
<span><span class="co">#&gt;     likelihood = "weighted")</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Subsample Size:</span></span>
<span><span class="co">#&gt;                                </span></span>
<span><span class="co">#&gt; 1       Total Sample Size 10000</span></span>
<span><span class="co">#&gt; 2 Expected Subsample Size   600</span></span>
<span><span class="co">#&gt; 3   Actual Subsample Size   635</span></span>
<span><span class="co">#&gt; 4   Unique Subsample Size   635</span></span>
<span><span class="co">#&gt; 5  Expected Subample Rate    6%</span></span>
<span><span class="co">#&gt; 6    Actual Subample Rate 6.35%</span></span>
<span><span class="co">#&gt; 7    Unique Subample Rate 6.35%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;           Estimate Std. Error z value Pr(&gt;|z|)</span></span>
<span><span class="co">#&gt; Intercept  -0.4149     0.0803 -5.1694  &lt;0.0001</span></span>
<span><span class="co">#&gt; V1         -0.5874     0.0958 -6.1286  &lt;0.0001</span></span>
<span><span class="co">#&gt; V2         -0.4723     0.1086 -4.3499  &lt;0.0001</span></span>
<span><span class="co">#&gt; V3         -0.5492     0.1014 -5.4164  &lt;0.0001</span></span>
<span><span class="co">#&gt; V4         -0.4044     0.1012 -3.9950  &lt;0.0001</span></span>
<span><span class="co">#&gt; V5         -0.3725     0.1045 -3.5649   0.0004</span></span>
<span><span class="co">#&gt; V6         -0.6703     0.0973 -6.8859  &lt;0.0001</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/dqksnow/Subsampling/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/dqksnow/Subsampling/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing subsampling</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Qingkai Dong <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
<li>Yaqiong Yao <br><small class="roles"> Author </small>  </li>
<li>Haiying Wang <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/dqksnow/subsampling/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/dqksnow/subsampling/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Qingkai Dong, Yaqiong Yao, Haiying Wang.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
